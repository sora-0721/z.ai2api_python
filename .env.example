# Z.AI API 代理服务配置文件示例
# 复制此文件为 .env 并根据需要修改配置值

# ========== API 基础配置 ==========
# Z.ai API 端点地址
API_ENDPOINT=https://chat.z.ai/api/chat/completions

# 客户端认证密钥（您自定义的 API 密钥，用于客户端访问本服务）
AUTH_TOKEN=sk-your-api-key

# 跳过客户端认证（仅开发环境使用）
SKIP_AUTH_TOKEN=false

# Z.ai 备用访问令牌（当匿名模式失败时使用）
# 注意：这是用于访问 Z.ai 服务的令牌，不是客户端认证密钥
BACKUP_TOKEN=eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjMxNmJjYjQ4LWZmMmYtNGExNS04NTNkLWYyYTI5YjY3ZmYwZiIsImVtYWlsIjoiR3Vlc3QtMTc1NTg0ODU4ODc4OEBndWVzdC5jb20ifQ.PktllDySS3trlyuFpTeIZf-7hl8Qu1qYF3BxjgIul0BrNux2nX9hVzIjthLXKMWAf9V0qM8Vm_iyDqkjPGsaiQ

# ========== 模型配置 ==========
PRIMARY_MODEL=GLM-4.5
THINKING_MODEL=GLM-4.5-Thinking
SEARCH_MODEL=GLM-4.5-Search
AIR_MODEL=GLM-4.5-Air

# ========== 服务器配置 ==========
# 服务监听端口
LISTEN_PORT=8080

# 调试日志开关
DEBUG_LOGGING=true

# ========== 功能配置 ==========
# 思考内容处理策略
# think: 转换为 <span> 标签（OpenAI 兼容）
# strip: 移除思考内容
# raw: 保留原始格式
THINKING_PROCESSING=think

# 匿名模式开关（推荐启用）
# true: 自动从 Z.ai 获取临时访问令牌，避免对话历史共享
# false: 使用固定令牌 BACKUP_TOKEN
ANONYMOUS_MODE=true

# Function Call 功能开关
TOOL_SUPPORT=true

# 工具调用扫描限制（字符数）
SCAN_LIMIT=200000

# ========== Z.ai 访问令牌获取说明 ==========
# 
# 方式一：匿名模式（推荐，默认启用）
# - 设置 ANONYMOUS_MODE=true
# - 系统会自动从 Z.ai 获取临时访问令牌
# - 无需手动配置 Z.ai 账户
#
# 方式二：固定令牌模式
# - 设置 ANONYMOUS_MODE=false
# - 需要手动获取 Z.ai 访问令牌并设置 BACKUP_TOKEN
# 
# 获取 Z.ai 访问令牌步骤：
# 1. 访问 https://chat.z.ai
# 2. 打开浏览器开发者工具 (F12)
# 3. 切换到 Network 标签页
# 4. 在 Z.ai 中发送一条消息
# 5. 在网络请求中找到 chat/completions 请求
# 6. 查看请求头中的 Authorization: Bearer <token>
# 7. 复制 <token> 部分到 BACKUP_TOKEN
#
# 注意：
# - BACKUP_TOKEN 是访问 Z.ai 服务的令牌
# - AUTH_TOKEN 是客户端访问本代理服务的认证密钥（您自定义）
# - 两者用途不同，请勿混淆